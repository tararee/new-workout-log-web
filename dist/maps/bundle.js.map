{"version":3,"sources":["app.js","feed.js","define.js","log.js","auth.js"],"names":["$","document","ready","WorkoutLog","undefined","API_BASE","location","hostname","setAuthHeader","sessionToken","window","localStorage","setItem","ajaxSetup","headers","Authorization","ajax","type","url","then","data","username","jQuery","on","e","token","getItem","this","hasClass","preventDefault","target","attr","log","setDefinitions","setHistory","setFeed","which","is","trigger","socket","io","connect","addFeedItem","extend","feed","feedData","li","append","message","addClass","push","sendChat","emit","val","len","length","lis","i","children","remove","fetchAllFeeds","fetchFeeds","done","console","definition","userDefinitions","create","def","desc","postData","define","JSON","stringify","contentType","fail","fetchAll","err","workouts","defs","opts","id","description","history","result","itsLog","text","logger","fetchDefs","afterSignin","removeClass","signup","password","user","modal","show","login","loginout","removeItem"],"mappings":"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","file":"bundle.js","sourcesContent":["$(document).ready(function() {\n\tvar WorkoutLog = (function($, undefined) {\n\t\t// var API_BASE = location.hostname === \"localhost//workoutapi-name-tararee.herokuapp.com/api/\";\n\t\tvar API_BASE = location.hostname === \"localhost\" ?\n\t\t\t\"//localhost:3000/api/\" :\n\t\t\t\"//workoutapi-name-tararee.herokuapp.com/api/\";\n\t\tvar setAuthHeader = function(sessionToken) {\n\t\t\twindow.localStorage.setItem(\"sessionToken\", sessionToken);\n\t\t\t\n\t\t\t$.ajaxSetup({\n\t\t\t\t\"headers\": {\n\t\t\t\t\t\"Authorization\": sessionToken\n\t\t\t\t}\n\t\t\t});\n\t\t\t$.ajax({\n\t\t\t\ttype: \"GET\",\n\t\t\t\turl: API_BASE + \"login\"\n\t\t\t}).then(function(data){\n\t\t\t\tWorkoutLog.username = data;\n\t\t\t});\n\t\t};\n\t\treturn {\n\t\t\tAPI_BASE: API_BASE,\n\t\t\tsetAuthHeader: setAuthHeader\n\t\t};\n\t})(jQuery);\n\t\n\t// Ensure .disabled aren't clickable\n\t$(\".nav-tabs a[data-toggle=tab]\").on(\"click\", function(e) {\n\t  var token = window.localStorage.getItem(\"sessionToken\");\n\t  if ($(this).hasClass(\"disabled\") && !token) {\n\t     e.preventDefault();\n\t     return false;\n\t  }\n\t});\n\n\t// bind tab change events\n\t$(\"a[data-toggle=tab]\").on(\"shown.bs.tab\", function(e) {\n\t\tvar target = $(e.target).attr(\"href\");\n\t\tif (target === \"#log\") {\n\t\t\tWorkoutLog.log.setDefinitions();\n\t\t}\n\t\tif (target === \"#history\") {\n\t\t\tWorkoutLog.log.setHistory();\n\t\t}\n\t\tif(target === \"#feed\"){\n\t\t\tWorkoutLog.setFeed();\n}\n\t});\n\n  // bind enter key\n   $(document).on(\"keypress\", function(e) {\n      if (e.which === 13) { // enter key\n         if ($(\"#signup-modal\").is(\":visible\")) {\n            $(\"#signup\").trigger(\"click\");\n         }\n         if ($(\"#login-modal\").is(\":visible\")) {\n            $(\"#login\").trigger(\"click\");\n         }\n      }\n   });\n\n\tvar token = window.localStorage.getItem(\"sessionToken\");\n\tif (token) {\n\t\tWorkoutLog.setAuthHeader(token);\n\t}\n\n\twindow.WorkoutLog = WorkoutLog;\n\n\tWorkoutLog.socket = io.connect(\"http://localhost:3000\");\n\tWorkoutLog.socket.on(\"new log\", function(data){\n\t\tWorkoutLog.addFeedItem(data);\n\t});\n\tWorkoutLog.socket.on(\"chat-message\", function(data){\n\t\tWorkoutLog.addFeedItem(data);\n\t});\n});","$(function() {\n\t$.extend(WorkoutLog, {\n\t\tfeed: [],\n\t\taddFeedItem: function(feedData){\n\t\t\tvar li = $(\"<li>\").append(feedData.username + feedData.message);\n\t\t\tli.addClass(\"list-group-item\");\n\t\t\t$(\"#feed-list\").append(li);\n\t\t\tWorkoutLog.feed.push(feedData);\n\t\t},\n\t\t\tsendChat: function(){\n\t\t\t\tWorkoutLog.socket.emit(\"chat-message\", {\n\t\t\t\t\tusername: WorkoutLog.username,\n\t\t\t\t\tmessage: \" says \" + $(\"#msg\").val()\n\t\t\t\t});\n\t\t\t\t$(\"#msg\").val(\"\");\n\t\t\t},\n\t\tsetFeed: function() {\n\t\t\tvar feed = WorkoutLog.feed;\n\t\t\tvar len = feed.length;\n\t\t\tvar lis = \"\";\n\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\tlis += \"<li class='list-group-item'>\";\n\t\t\t\tlis += feed[i].username + feed[i].message;\n\t\t\t\tlis += \"</li>\";\n\t\t\t}\n\t\t\t$(\"#feed-list\").children().remove();\n\t\t\t$(\"#feed-list\").append(lis);\n\t\t},\n\n\t\tfetchAllFeeds: function() {\n\n\t\t\tvar fetchFeeds = $.ajax({\n\t\t\t\ttype: \"GET\",\n\t\t\t\turl: WorkoutLog.API_BASE + \"feed\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Authorization\": window.localStorage.getItem(\"sessionToken\")\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfetchFeeds.done(function(data) {\n\t\t\t\tconsole.log(data);\n\t\t\t\tWorkoutLog.feed = data;\n\t\t\t});\n\t\t}\n\t});\n\t$(\"#msg-send\").on(\"click\", WorkoutLog.sendChat);\n\n\tif (window.localStorage.getItem(\"sessionToken\")) {\n\t\tWorkoutLog.fetchAllFeeds();\n\t}\n});","$(function() {\n\t$.extend(WorkoutLog,{\n\t\tdefinition: {\n\t\t\tuserDefinitions: [],\n\t\t\tcreate: function() {\n\t\t\t\tvar def = {\n\t\t\t\t\tdesc: $(\"#def-description\").val(),\n\t\t\t\t\ttype: $(\"#def-logtype\").val()\n\t\t\t\t};\n\t\t\t\tvar postData = { definition: def };\n\t\t\t\tvar define = $.ajax({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"definition\",\n\t\t\t\t\tdata: JSON.stringify(postData),\n\t\t\t\t\tcontentType: 'application/json'\n\t\t\t\t});\n\n\t\t\t\tdefine.done(function(data) {\n\t\t\t\t\tWorkoutLog.definition.userDefinitions.push(data.definition);\n\t\t\t\t});\n\n\t\t\t\tdefine.fail(function() {\n\t\t\t\t\tconsole.log('oh no');\n\t\t\t\t});\n\t\t\t},\n\t\t\tfetchAll: function() {\n\t\t\t\tvar getDefs = $.ajax({\n\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"definition\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Authorization\": window.localStorage.getItem(\"sessionToken\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tWorkoutLog.definition.userDefinitions = data;\n\t\t\t\t})\n\t\t\t\t.fail(function(err) {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\t$(\"#def-save\").on(\"click\", WorkoutLog.definition.create);\n\n\tif (window.localStorage.getItem(\"sessionToken\")) {\n\t\tWorkoutLog.definition.fetchAll();\n\t}\n});","$(function() { // same as $(document).ready(function() {\n\t$.extend(WorkoutLog, {\n\t\tlog: {\n\t\t\tworkouts: [],\n\t\t\t\n\t\t\tsetDefinitions: function() {\n\t\t\t\tvar defs = WorkoutLog.definition.userDefinitions;\n\t\t\t\tvar len = defs.length;\n\t\t\t\tvar opts = \"\";\n\t\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\t\topts += \"<option value='\" + defs[i].id + \"'>\" + defs[i].description + \"</option>\";\n\t\t\t\t}\n\t\t\t\t$(\"#log-definition\").children().remove();\n\t\t\t\t$(\"#log-definition\").append(opts);\n\t\t\t},\n\n\t\t\tsetHistory: function() {\n\t\t\t\tvar history = WorkoutLog.log.workouts;\n\t\t\t\tvar len = history.length;\n\t\t\t\tvar lis = \"\";\n\t\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\t\tvar result = history[i].result === \"\" ? \"No result found\" : history[i].result;\n\t\t\t\t\tlis += \"<li class='list-group-item'>\" + history[i].def + \" - \" + result + \"</li>\";\n\t\t\t\t}\n\t\t\t\t$(\"#history-list\").children().remove();\n\t\t\t\t$(\"#history-list\").append(lis);\n\t\t\t},\n\n\t\t\tcreate: function() {\n\t\t\t\tvar itsLog = {\n\t\t\t\t\tdesc: $(\"#log-description\").val(),\n\t\t\t\t\tresult: $(\"#log-result\").val(),\n\t\t\t\t\tdef: $(\"#log-definition option:selected\").text()\n\t\t\t\t};\n\n\t\t\t\tvar postData = { log: itsLog };\n\t\t\t\tvar logger = $.ajax({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\n\t\t\t\t\tdata: JSON.stringify(postData),\n\t\t\t\t\tcontentType: \"application/json\"\n\t\t\t\t});\n\n\t\t\t\tlogger.done(function(data) {\n\t\t\t\t\tWorkoutLog.log.workouts.push(data);\n\t\t\t\t});\n\n\t\t\t\tlogger.fail(function() {\n\t\t\t\t\tconsole.log(\"something broke\");\n\t\t\t\t});\n\n\t\t\t},\n\n\t\t\tfetchAll: function() {\n\t\t\t\tvar fetchDefs = $.ajax({\n\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Authorization\": window.localStorage.getItem(\"sessionToken\")\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfetchDefs.done(function(data) {\n\t\t\t\t\tWorkoutLog.log.workouts = data;\n\t\t\t\t});\n\n\t\t\t\tfetchDefs.fail(function(err) {\n\t\t\t\t\tconsole.log(\"an error occured\" + err.message);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\t$(\"#log-save\").on(\"click\", WorkoutLog.log.create);\n\n\tif (window.localStorage.getItem(\"sessionToken\")) {\n\t\tWorkoutLog.log.fetchAll();\n\t}\n});","$(function() {\n\t$.extend(WorkoutLog, {\n\t\tafterSignin: function(sessionToken) {\n\t\t\tWorkoutLog.setAuthHeader(sessionToken);\n\t\t\tWorkoutLog.definition.fetchAll();\n\t\t\tWorkoutLog.log.fetchAll();\n\t\t\tWorkoutLog.fetchAllFeeds(); \n\t\t\t$(\".disabled\").removeClass(\"disabled\");\n\t\t\t$(\"#loginout\").text(\"Logout\");\n\t\t},\n\t\tsignup: function() {\n\t\t\tvar username = $(\"#su_username\").val();\n\t\t\tvar password = $(\"#su_password\").val();\n\t\t\tvar user = { \n\t\t\t\tuser: { \n\t\t\t\t\tusername: username,\n\t\t\t\t\tpassword: password \n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar signup = $.ajax({\n\t\t\t\ttype: \"POST\",\n\t\t\t\turl: WorkoutLog.API_BASE + \"user\",\n\t\t\t\tdata: JSON.stringify( user ),\n\t\t\t\tcontentType: \"application/json\"\n\t\t\t});\n\n\t\t\tsignup.done(function(data) {\n\t\t\t\tif (data.sessionToken) {\n\t\t\t\t\tWorkoutLog.afterSignin(data.sessionToken);\n\t\t\t\t\t$(\"#signup-modal\").modal(\"hide\");\n\t\t\t\t}\n\n\t\t\t}).fail(function() {\n\t\t\t\t$(\"#su_error\").text(\"There was an issue with sign up\").show();\n\t\t\t});\n\t\t},\n\n\t\tlogin: function() {\n\t\t\tvar username = $(\"#li_username\").val();\n\t\t\tvar password = $(\"#li_password\").val();\n\t\t\tvar user = { \n\t\t\t\tuser: { \n\t\t\t\t\tusername: username,\n\t\t\t\t\tpassword: password \n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar login = $.ajax({\n\t\t\t\ttype: \"POST\",\n\t\t\t\turl: WorkoutLog.API_BASE + \"login\",\n\t\t\t\tdata: JSON.stringify( user ),\n\t\t\t\tcontentType: \"application/json\"\n\t\t\t});\n\n\t\t\tlogin.done(function(data) {\n\t\t\t\tif (data.sessionToken) {\n\t\t\t\t\tWorkoutLog.afterSignin(data.sessionToken);\n\t\t\t\t\t$(\"#login-modal\").modal(\"hide\");\n\t\t\t\t}\n\t\t\t}).fail(function() {\n\t\t\t\t$(\"#li_error\").text(\"There was an issue with sign up\").show();\n\t\t\t});\n\t\t},\n\n\t\tloginout: function() {\n\t\t\tif (window.localStorage.getItem(\"sessionToken\")) {\n\t\t\t\twindow.localStorage.removeItem(\"sessionToken\");\n\t\t\t\t$(\"#loginout\").text(\"Login\");\n\t\t\t}\n\n\t\t\t// TODO: on logout make sure stuff is disabled\n\t\t}\t\n\t});\n\n\t// bind events\n\t$(\"#login\").on(\"click\", WorkoutLog.login);\n\t$(\"#signup\").on(\"click\", WorkoutLog.signup);\n\t$(\"#loginout\").on(\"click\", WorkoutLog.loginout);\n\n\tif (window.localStorage.getItem(\"sessionToken\")) {\n\t\t$(\"#loginout\").text(\"Logout\");\n\t}\n});\n\n"],"sourceRoot":"/source/"}